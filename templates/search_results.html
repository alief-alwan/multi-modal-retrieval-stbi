{% extends "base.html" %}

{% block title %}
Search Results
{% endblock %}

{% block content %}
    <h2>Search Results</h2>

    {% if text_query %}
    <p><strong>Text Query:</strong> {{ text_query }}</p>
    <h3>Similar Products by Text:</h3>
    <ul class="list-group mb-4">
        {% for product in similar_products_by_text %}
        <li class="list-group-item">{{ product }}</li>
        {% endfor %}
    </ul>
    {% endif %}

    {% if image_url %}
    <p><strong>Image Query URL:</strong></p>
    <img src="{{ image_url }}" alt="Query Image" class="img-thumbnail mb-4">
    {% endif %}

    {% if image_file_url %}
    <p><strong>Uploaded Image:</strong></p>
    <img src="{{ image_file_url }}" alt="Query Uploaded Image" class="img-thumbnail mb-4">
    {% endif %}

    <h3>Similar Images:</h3>
    <div class="row">
        {% for idx, score in indices_and_scores %}
        <div class="col-md-4 mb-4">
            <div class="card">
                <img src="{{ image_urls[idx] }}" class="card-img-top" alt="Similar Image">
                <div class="card-body">
                    <p class="card-text"><strong>Similarity Score:</strong> {{ score }}</p>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
{% endblock %}